language: groovy
jdk:
- openjdk8
branches:
  only:
  - develop
  - master
  - "/release.*/"
env:
  global:
  - secure: pza0uhBB8YcruW0ol8bQL61+oLBIG6HBSYJwMmN58VINstyPJKAkGB90RRHSxxSkg+R0gtV26izvRsx8nAeYceHAiQTLNcyshXYOsoUMUfpjqDTq+VSCgsAgPlFpIyXXa3AmUFazHqHj32pvkRohTUv7FB0tDrDgRCVvfKnTQdj86Yg0zcc4KQ/nokqK4kJZT3eQ9IQ2ImQjt55IEAgOLR7PZIbwj7l2vVjR8ZGlV7A5cgpcQt+7x+imWoSZyvPQ3HXWwzxyt9TSJ/+Dej84cgKFmaF0wA0GjNUx/ED92g+ypGClDT8TQ+ijSJ4E+oJnhI/HG87ktQEdKsOCawibEqkMKUEwtj7rYQXXewQ0Dd1ph3Y91tlVwwVClxnA7zzNFPLwahXBPCEMfrScXlxOck5YiBio2XZILuxhvAD0f/pt/C5hL3EMkvcUXvjZLq1KWEWZEgLgnhIDXJLFdVFuZC8tstcj4qjkxktUSQcRNmNR0CaN3QGrl1NfmkAQ/+M7Q/SxB/EF710TOcJMOaNts7r7e87rjrhBL3cr9/jG26ECOCCduO2BXH4w6PPDViGNrCCJKv7ZjkcXmG2dZ+3xUFi5LgWqi2g3nyVfeCk32butakZdjzO8I7LnYGdGIsUp3Et0KMwdesNY223BBnYwt0DMiDLoEatNh22CgQ72z5w=
  - secure: d4aVLgTAJE6drvdM7vooUW2BsyTC1zYnwT00R+twFG4K60PGhI92Jo8ZqlsU0rEaVdgsBj14vgm4NTlEBVL7fjOQJNRYsBNy3ws9grAsvn5QsPtyR5xBYCEBkYeLcwEOkUtbr0/59H5ekBq+VK3QGeq9tuj4cg+CFGrwgW6MQEGtmNh5p8GLTRgQCHy8mMp/2tb5c95YZys0hnW4VlgQIVj77VToZH/iySV0rV0XQzU1OTolyT5SZ1kfhR3LPKacEuVsEQGLfIMgpgCCOBy8u3oSe5tJgcDshTH3SRKJ43+vOMsr57UNejigw8ONuzywG097nagTifhiJPaAsTjrkEyvxXhOWReKbIv0/M8ubfQWBarC1hN6zLBMgWEaQmrXWhbDA5rBsZEgWQ9UUKdKjKVY5gC2omx+FTW8msSgJFhzW52FdtAovzFWknfcgH+sFIchWmwq6Ga+FZBtD8gZSPUu8CgC0CI/5oNG9LpRAL2YBdc/PwrWWnmRw8PEHURxxsDOS9Z6sQMedFaBG7VXVVxuups9wrttWWJ+eYZw6k+LtwomLu5Q5L0FLxTjXD2XMsGazvwECy2ddQz4i2Ad99PCysr+hhWkW54gxxkpj7B+nGsKvyp0KCQIzV2izQEbC2tLE7iAtruRCgK9uJRYOt7P5y/fLIyGCHN0TfX/BbY=
  - secure: BtjZ6mAfdgeCvlUoGr4xNKPvFgSdPFh5kcfqipVnUtryHHZzrZiBTYbIpGPuLOplx2OFnvyKwpNLl5AGBn62A/1QkaKe7Fyr8yPhk1zeU7IJcKueBSTTr4uicdTnRgE51K3vZ5gZu89w28ycfZP50ByFSJIJJVtLkrlx9V7pdbkZ5v4AA9TS5e1VLaDWGSSJ+cmKWta3yeuh+C0G3CuhDG5SvQeCgGVIOkONijrqYpDYW3THSPomEWVgPK8hFTqAnbXMFnd/ZAiBzb1TQFW/26XVjYKfOI4dbNHE/aKkw3ezVF8sGsVVJ5hH5rjaVxBPWrDLopfgJWeqf/AxqYAmkcbEMIE2U9ApXaDoIlK3t1kNdZswXI6B4a03r8iWplFLWxuVuay6DJtfhQW65k7NE2iEhXW7OtdJf8Dv+cCoavhrvBsNXL9qRxtMds8CzVeb0CXUw2t0ARRJuofVl8edCpUyyUzviJXHRvWZNRhu/KMH8JiQK61FSbbbzFPveE4kHWKdQJ8PoKBwshgoknJS5Tr7d7WaMD+mwWxntfl6CHbCZssVTgJkDQrceFoKjY/jo3kcitX+lSpsxvBOeD7UVu3I6FNn3f1bDq1JNdIv8igtmQexCshrQxsQL8moXbK35JhshP63TqtWhdy/cW8Q0dwIH2etbioixsFv/F3/KWE=
  - secure: s4SySCiC9I0/xjXLMpsvIdvwy0K7bEA/vSg8T6ewk9BBxFvavJOKruHDRizDoidbnH04ufkXF2ZIGoHY/rjqdqJG2DSQi+YmCF4rNPR+/h0XIslUMwLhU6LgPXohZ15Z/UdSZGaoNmP9rSyqHcdWtCnScwYEpPVsLsy3kEyQ+ujz8PCxKU6jAYqUPMOrmTLRkIW5mV7VN4gp1JL/m7xy09k+CPNMzWRGxpBjgqBcIIw9gyeFEJgm3Djq3tT5FfLsFC4iWX8fl9cAHH2wZ+z2mV1th8JcPvDEWew4u4bctQgXZnLBhVYv89b2BW97yyewHJitlF6kZhs5Lgx3FHwjF4tte6PMbJ+q5fYJYPKd7IZfPF9GN56GOUWDLFzCGeorTpIdeg9lWBpM7IGGw891bHvV+CavHGGn1Wmp5ux2BeG9BC6A6XKj8MYABgVjGhl7mlYkfwBl1qIrfA3ZNSKLvIE62qp1AVtyYOBCFG+c/cZx4zVhJ7k1cYywKAOtyczhJ8kk9oDk6mpSuBeWJyxqyrHpM4Xl5ujUhRx+/PDcHL2JhOyFxtNsrYo3zMmjV5viTQP159/iCikXZOv0xlpsAfz24KgwrgPFlhnSA6EKEQ0JS1nRb8CbFESaqq6Ba4T4Ix6Flj7WkwjFC9bZq5dDqd6be/KcSuivkn2b4nTEQB8=
  - secure: VkSpWyp2R9EjFUHolqNuTGnoHnPLo/9eiZbNtGJ5VaXd20O/epeT0lvYHZm19vbFO8gjrz/b6NNc9yMoBHlCHn0priP1tZqaZQADqYPLSonkyGnBIunEs9pVTeyjA65+gskEY0lda/+GMB/3zmf0eupFVptqzo+HdI4IrQ5kAxqv8lyVN1v54mi+F2wifTUC2p8SLa7/ZEIRHWj2QZ6B1E6dnuNxBEpwgd1f0ypIka+UATzi7nsDRYzIU7BvoMSlLaKL0OUXhFLREzsRXyRG3/UwR35qSOig0oqU7IxWeEdjzKkpsitBFDNhZwfiRnOSlLeFuxokPcJpLSCmeMl08kTTyUubbzXvx4B3Ow637bq59m6pgiccuTfiZhxvOXTAp73V4umCtTI5YnlusO/aPS0741X7i1c8wRIuM5YS5v5vLU3sfAHAx8rEYpSXlkDwD99U9IR7w5ic7xP27TTtXZOKHl8ap0IIgzykkUeZKN3TS1ff9+8NJtCOfD3dEz/g1KCKw8Aiit1199Cwa30ILgEP9PRADKBh3wNBbOSNvFpNtPqmy6I/JPcY2GwAU1Ch6XekLtTelFdX1FOCh0zNYVbqMPozGDgcyz4wk5X44ZZsGg9aVFQoy1YmZtNazswbAm3uBeCBDh7o5RwcZ5voUe6rILPxAusuoFR6EL+b8+0=
  - secure: A5F7JNOd0MPtFZnq0RjkuNIL07fQywCqccSUzFVSobmiQ3WHIukaOLQ0fE5wO3Aq5iZGE2VElXCviUqwYd1wmsRzMztXTr8/APm6LL3pfdibCTG0mWRYl6CCZLqSD1xgLo7VZsPs5sPoZV0kDi2q0B9Bjy0m6qeToLBr62RPiHB+29NY4Hy2m/I9IO8N7UZvLQgiGxwvv2rGAPUBLHTWDxvz6oEjkKmbr/DsJpvM7HZVynURG6zdfCxpH2/SoM0mTevaxSKr1ziuup7aCUediZbnXGHz1O9/nwf9pET2/vCQuZI/XLdorAYW1kRUSkRH0XKeQdCwzOuFN24i1Wqje1bjRw7s996ZMAz6zhUfcXItlovuh+jSPSy1kpMJ16L0NEf4fsF5Gs/8VCmcXauDwcOIs60bpIAoO+MshEJyv7/t1d+HtE1Wo8Nykmwrj2i/eGSQgea3BUNtWhUcUsEJTBjoAitArgrk8c74i8P1el2FQCSaliMj3PIxjzt2kcS0t65g6qs5ZEVKWyprba9BZzXuBYwmkHtkeh46sztppBWxoB2woFxfSO3ueudbpH/chC3ze+9TLiWAc7PaUQO7tNyf6vMQLx274pHNMrIXKKwbkZCDXcZvPKs/148IxNETSje3UWmi/UWOp/z82WPGs69QtsGKHE1/0wQAyMahwx8=
  - secure: K2IJJw897ST9vazhEMonoJTc0XzESeEnOVXLEs7iFMZy+MRN4yzEHYY9IASZbRbI07UwSyaRRNhe3x+Nr6Ypv9M3sBNtdQTkzOHpYUn+3pUfYrp3RGHG2/GOBYNjvDhB6W8HJlwAV17b4MlqSnfug3HcONllprNuq/FSrQzenIcZd3o6UELBQBUAjFL2RhJgtga/aPgnrW3Y5hAUdGjXqmtMqROZF6Q7AEKrl62DPXEptpp8DzgqQdhMJBAwm2P+4MCT+JgikIW1y9sO6kT6dpplkajaGnnbWAFZI83EUUWQ5ESrgIUUb/frwZAohdNILIUUDO0PeBRLVh1MEm/8ob/f22+5sJXZOFjSu78jOXhnIZ1f5KRDTzj5KH0yl3fr49UMh9AAJueg3350FqGzts0S07auGR2jWvZVR6OMNTrP9wNC9WADj7Wd5+vQ+4woWBfku3SPyn8mnw2T8gu69LQ8dZyYV00Fy3Rt7muDf2yM+Yr/Txi8doFu6vYUvVNPyDZfgoqgd4zzuKYgvFGGPQsT1o/H+aMzwPP0QgGaZCeEqafVMCXBvtqUwMK4fOfK0xKq9/IMeZF8SnnzvBmnIFJj3E91AB/eVWSZPOvrLvKlEIRkGheEAQwNCW2XXtYzoRAAUMw87wtG4R7K38j4z8XeYChC1XF1KIjL9JODMAc=
  - secure: FhOxx1R8mGZaeJgUwns0m7Taokc0nMMNJi/8yFss29azGtRoyXCAaC4WuoM1X4vgqnytmv3lHdKVfg60UMDJ6GoEl0+EnVrXo+5a1wUFzPl9qDATmFfqZsP7Z28UwA17bYkHJssrSdMnwA2VfzjTxPH7PKNLmpUReQODy7oLGEkiCzVtOy+ytXw35vbyHSNR5ZUgbNddWSvaCkmGnFOGU7c+Zn6IBs2nh5pOxiykhA6Qtu9+GReV/oZamS4co7xD2gqWYva++ePwPWmoweCDvVb2TKBi5F7aouhjkI98XRuH1M2iC5K2mHDEMzh+rjdgUFV9hmdRV9pFh4bcdCyPdtQqgG2dWrEjKVj/bYlIN+uWC2spNZ0ONRNjwxGdwF5pzimpJkbVcb0/bkOmYcmRJZTLV+jAc/oSRzItHsA6Tu5JexRAU3LdC7BcSGz3vMdpqaqSKCUnwUp8HGpDP3p9AbFVgGz6LIdw5BPByiGtjyEjUW8rCbZoPm1oz0u5ZM9+fiaQwUg3hj2Ogm+uW0dkAy7MPnjEJcW+Hj0Z86SivI+6GMygWP1lfaV+BryTLGaP2iC2+apCaPjaqnndhiI/zQ9DmoMiWkuZnuOG98mPgQuL3CGVKhLNcls5tQVRknaqptnYJ5szkqzTva4aqLJYq7qezwWkpffCZ6WaDuhUpiA=
  - secure: IYeADW/P846wQDhKlPlEku9Vec+KHZA38FZB0VRhnfRFet2SDLxOmiySnT2OGO4PeSOrUc1u2yCIQCmCPl36nTT1JfnoojHd1C8Ac/HMHdS4/PbhwE3BIuzzf1jJ/E1V5USQ2KDSwbt4vKet2TFfCI3w5V1bPHZYIUruf/dnT9jn/XCSPQfZHjOaUIT8DO6fl5QtKDWrad66Htd+HMq5fzwrw/t9JSjjFdrDro2brLO4QNNYHyFo2vyRFi9Y6gddVah6hPLzel13u54FXyHnJ8ZC8i+NCwp9iVSgiaujZv695qDX6bzh2BMndjNu3GGdHA68wHlD2wumXnCC6396bYD/DfEwp+e0YdDPnHyYo2mDnXltQsAHfeNoihuzT2LJuAYgla7c3ovahe/ZvaplLZrvZvFYru/I1mS2o7uY57u5CzQt57QHgYx8Wg1ORD1YiIQKnI9u1i47Q489vmx+fo4+Xh5ZXgVbKkLbnrxA13YuxHKWUBQMQXMJIgglbCuhLDyjn0XzH16LcCg+76xylR5mbas5XC6p/INTG9qWMXe6wUEIxTqzYbyMp6GEHAHFSzH/dkkFMSvLu1Xn4HznQ5KfjsTgfpiFfezJ+SSqW4fyeJn2Vi08WtQpzXypMZzLa76EaH/yOfpGAoEjbJPStu8YK4ZfzYw51tBUWC2xzrA=
stages:
- name: Unit Tests
  if: branch = develop
- name: Staging
  if: branch =~ ^release
- name: Master
  if: branch = master
jobs:
  include:
  - stage: Unit Tests
    install: mvn --settings settings.xml -DskipTests=true -Dmaven.javadoc.skip=true
      -Pdevelop -B -V install
    script: mvn --settings settings.xml -Pdevelop clean test
  - stage: Staging
    install: mvn --settings settings.xml -DskipTests=true -Dmaven.javadoc.skip=true
      -Pstaging -B -V install
    script: mvn --settings settings.xml -Dmaven.javadoc.skip=true -Pstaging -B -V
      clean test
    after_success: chmod +x deploy.sh && ./deploy.sh
  - stage: Master
    install: mvn --settings settings.xml -DskipTests=true -Dmaven.javadoc.skip=true
      -B -V install
    script: mvn --settings settings.xml clean test
